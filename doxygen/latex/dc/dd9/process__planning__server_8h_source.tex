\hypertarget{process__planning__server_8h_source}{}\doxysection{process\+\_\+planning\+\_\+server.\+h}
\label{process__planning__server_8h_source}\index{tesseract\_process\_managers/include/tesseract\_process\_managers/core/process\_planning\_server.h@{tesseract\_process\_managers/include/tesseract\_process\_managers/core/process\_planning\_server.h}}
\mbox{\hyperlink{process__planning__server_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#ifndef TESSERACT\_PROCESS\_MANAGERS\_PROCESS\_PLANNING\_SERVER\_H}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define TESSERACT\_PROCESS\_MANAGERS\_PROCESS\_PLANNING\_SERVER\_H}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include <tesseract\_common/macros.h>}}
\DoxyCodeLine{30 TESSERACT\_COMMON\_IGNORE\_WARNINGS\_PUSH}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#include <shared\_mutex>}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#include <taskflow/taskflow.hpp>}}
\DoxyCodeLine{36 TESSERACT\_COMMON\_IGNORE\_WARNINGS\_POP}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{profile__dictionary_8h}{tesseract\_command\_language/profile\_dictionary.h}}>}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{process__environment__cache_8h}{tesseract\_process\_managers/core/process\_environment\_cache.h}}>}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{taskflow__generator_8h}{tesseract\_process\_managers/core/taskflow\_generator.h}}>}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{process__planning__request_8h}{tesseract\_process\_managers/core/process\_planning\_request.h}}>}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{process__planning__future_8h}{tesseract\_process\_managers/core/process\_planning\_future.h}}>}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{preprocessor}{\#ifdef SWIG}}
\DoxyCodeLine{46 \%shared\_ptr(\mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{tesseract\_planning::ProcessPlanningServer}})}
\DoxyCodeLine{47 \%nodefaultctor \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{tesseract\_planning::ProcessPlanningServer}};}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacetesseract__planning}{tesseract\_planning}}}
\DoxyCodeLine{51 \{}
\DoxyCodeLine{57 \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59 \textcolor{keyword}{public}:}
\DoxyCodeLine{60   \textcolor{keyword}{using} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_aa52737a3f539bf58cf5b124ddfc82044}{Ptr}} = std::shared\_ptr<ProcessPlanningServer>;}
\DoxyCodeLine{61   \textcolor{keyword}{using} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a0d014430a22f19fe839bd9836622753b}{ConstPtr}} = std::shared\_ptr<const ProcessPlanningServer>;}
\DoxyCodeLine{62   \textcolor{keyword}{using} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a5e5350edc87c24aade648d0bdc8c9aae}{UPtr}} = std::unique\_ptr<ProcessPlanningServer>;}
\DoxyCodeLine{63   \textcolor{keyword}{using} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_aeac5a0989d5f0a56f6ad64cf65db8575}{ConstUPtr}} = std::unique\_ptr<const ProcessPlanningServer>;}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{preprocessor}{\#ifndef SWIG}}
\DoxyCodeLine{71   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a398f6e28a76b6b1ef5886a5e7cedeeed}{ProcessPlanningServer}}(\mbox{\hyperlink{classtesseract__planning_1_1EnvironmentCache_ac8f871381306bdefe97c8a48cc1de157}{EnvironmentCache::ConstPtr}} cache, \textcolor{keywordtype}{size\_t} n = std::thread::hardware\_concurrency());}
\DoxyCodeLine{72 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{73 }
\DoxyCodeLine{81   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a398f6e28a76b6b1ef5886a5e7cedeeed}{ProcessPlanningServer}}(tesseract\_environment::Environment::ConstPtr environment,}
\DoxyCodeLine{82                         \textcolor{keywordtype}{int} cache\_size = 1,}
\DoxyCodeLine{83                         \textcolor{keywordtype}{size\_t} n = std::thread::hardware\_concurrency());}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   \textcolor{keyword}{virtual} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_aa3d92ad3529217bf5be540c352ed7af6}{\string~ProcessPlanningServer}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#ifndef SWIG}}
\DoxyCodeLine{87   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_addfd189ea3189ac2569b7dbd87da70c8}{ProcessPlanningServer}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{88   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\& \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a2df3c960dcc286234d686b9846e964e3}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{89   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a949202779a456afe59dab0ac54a88d42}{ProcessPlanningServer}}(\mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{90   \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\& \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a68568b93612b03f7c4f6a0858d644e58}{operator=}}(\mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer}{ProcessPlanningServer}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{91 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{92 }
\DoxyCodeLine{98   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a77d17e32f9a349f5861d2fc8b5fd82e9}{addExecutor}}(\textcolor{keyword}{const} std::string\& name, \textcolor{keyword}{const} std::shared\_ptr<tf::Executor>\& executor);}
\DoxyCodeLine{99 }
\DoxyCodeLine{106   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a77d17e32f9a349f5861d2fc8b5fd82e9}{addExecutor}}(\textcolor{keyword}{const} std::string\& name, \textcolor{keywordtype}{size\_t} n);}
\DoxyCodeLine{107 }
\DoxyCodeLine{113   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_ae13e90355b66116749eb1c46c75c31ae}{hasExecutor}}(\textcolor{keyword}{const} std::string\& name) \textcolor{keyword}{const};}
\DoxyCodeLine{114 }
\DoxyCodeLine{119   std::vector<std::string> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a919e4d5ee198c7f8b68cf10acc61d3b8}{getAvailableExecutors}}() \textcolor{keyword}{const};}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{preprocessor}{\#ifndef SWIG}}
\DoxyCodeLine{127   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_aeb6dc48a6d26f9e04f1e2573485ad35d}{registerProcessPlanner}}(\textcolor{keyword}{const} std::string\& name, \mbox{\hyperlink{classtesseract__planning_1_1TaskflowGenerator_a12a647db36094c3b2084e60bec0ad268}{TaskflowGenerator::UPtr}} generator);}
\DoxyCodeLine{128 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{129 }
\DoxyCodeLine{134   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a26a046655f7cdf7476ea7545f902b939}{loadDefaultProcessPlanners}}();}
\DoxyCodeLine{135 }
\DoxyCodeLine{141   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a794151af498ccc64116cf02b990f7676}{hasProcessPlanner}}(\textcolor{keyword}{const} std::string\& name) \textcolor{keyword}{const};}
\DoxyCodeLine{142 }
\DoxyCodeLine{147   std::vector<std::string> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a36d424b8bf418d63e6afdc9e7beed003}{getAvailableProcessPlanners}}() \textcolor{keyword}{const};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149 \textcolor{preprocessor}{\#ifndef SWIG}}
\DoxyCodeLine{156   \mbox{\hyperlink{structtesseract__planning_1_1ProcessPlanningFuture}{ProcessPlanningFuture}} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a29e4cc2f751143df71b119043c463fb6}{run}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningRequest}{ProcessPlanningRequest}}\& request) \textcolor{keyword}{const};}
\DoxyCodeLine{157 }
\DoxyCodeLine{164   tf::Future<void> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a29e4cc2f751143df71b119043c463fb6}{run}}(tf::Taskflow\& taskflow, \textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}}) \textcolor{keyword}{const};}
\DoxyCodeLine{165 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{166 }
\DoxyCodeLine{167 \textcolor{preprocessor}{\#ifdef SWIG}}
\DoxyCodeLine{168   \%extend}
\DoxyCodeLine{169   \{}
\DoxyCodeLine{170     std::shared\_ptr<tesseract\_planning::ProcessPlanningFuture> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a29e4cc2f751143df71b119043c463fb6}{run}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningRequest}{ProcessPlanningRequest}}\& request)}
\DoxyCodeLine{171     \{}
\DoxyCodeLine{172       \textcolor{keywordflow}{return} std::make\_shared<tesseract\_planning::ProcessPlanningFuture>(std::move(\$self-\/>run(request)));}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174   \}}
\DoxyCodeLine{175 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// SWIG}}
\DoxyCodeLine{176 }
\DoxyCodeLine{181   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_ae14580b6bb05a5135af5c72760732662}{waitForAll}}(\textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}}) \textcolor{keyword}{const};}
\DoxyCodeLine{182 }
\DoxyCodeLine{187   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_ad1814bd33982374d4844903d568f12e0}{enableTaskflowProfiling}}(\textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}});}
\DoxyCodeLine{188 }
\DoxyCodeLine{193   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a2de47786a123b1279bee063f92fe86fa}{disableTaskflowProfiling}}(\textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}});}
\DoxyCodeLine{194 }
\DoxyCodeLine{199   \mbox{\hyperlink{classtesseract__planning_1_1ProfileDictionary_a6ca9e4457bcf32d459ca8d89121a963d}{ProfileDictionary::Ptr}} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a0728b09ad735c8eba717b893cb1ec185}{getProfiles}}();}
\DoxyCodeLine{200 }
\DoxyCodeLine{205   \mbox{\hyperlink{classtesseract__planning_1_1ProfileDictionary_ab9e6bb9185d333d45264d7c17c636bb4}{ProfileDictionary::ConstPtr}} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a0728b09ad735c8eba717b893cb1ec185}{getProfiles}}() \textcolor{keyword}{const};}
\DoxyCodeLine{206 }
\DoxyCodeLine{211   \textcolor{keywordtype}{long} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_af65d077b5ac00736d9834e065c4cd13e}{getWorkerCount}}(\textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}}) \textcolor{keyword}{const};}
\DoxyCodeLine{212 }
\DoxyCodeLine{219   \textcolor{keywordtype}{long} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_ab26c963a7fc5b2a95ce39485c41cf7c6}{getTaskCount}}(\textcolor{keyword}{const} std::string\& name = \mbox{\hyperlink{namespacetesseract__planning_a142ce49e11911f3b89a60bb72e5b9cc4}{PRIMARY\_EXECUTOR\_NAME}}) \textcolor{keyword}{const};}
\DoxyCodeLine{220 }
\DoxyCodeLine{221 \textcolor{keyword}{protected}:}
\DoxyCodeLine{222   \textcolor{keyword}{mutable} std::shared\_mutex \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a2dcb36f558db03567a7501b639505cfe}{mutex\_}};}
\DoxyCodeLine{223 }
\DoxyCodeLine{225   \mbox{\hyperlink{classtesseract__planning_1_1EnvironmentCache_ac8f871381306bdefe97c8a48cc1de157}{EnvironmentCache::ConstPtr}} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_ab37a53f8825bd9c0375d7d7c0aafe5fa}{cache\_}};}
\DoxyCodeLine{226 }
\DoxyCodeLine{228   std::unordered\_map<std::string, std::shared\_ptr<tf::Executor>> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a1d73e6231f185d7bc709aa3519a8d31e}{executors\_}};}
\DoxyCodeLine{229 }
\DoxyCodeLine{231   std::unordered\_map<std::string, std::shared\_ptr<tf::TFProfObserver>> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_adaf6f5d75db491c6a8f43c934428d58d}{profile\_observers\_}};}
\DoxyCodeLine{232 }
\DoxyCodeLine{234   std::unordered\_map<std::string, TaskflowGenerator::UPtr> \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_a4473171d5be06464c461e76eeabbf4ba}{process\_planners\_}};}
\DoxyCodeLine{235 }
\DoxyCodeLine{237   \mbox{\hyperlink{classtesseract__planning_1_1ProfileDictionary_a6ca9e4457bcf32d459ca8d89121a963d}{ProfileDictionary::Ptr}} \mbox{\hyperlink{classtesseract__planning_1_1ProcessPlanningServer_aa1471d06301e3721bbe65e65387c72fb}{profiles\_}}\{ std::make\_shared<ProfileDictionary>() \};}
\DoxyCodeLine{238 \};}
\DoxyCodeLine{239 }
\DoxyCodeLine{240 \}  \textcolor{comment}{// namespace tesseract\_planning}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// TESSERACT\_PROCESS\_MANAGERS\_PROCESS\_PLANNING\_SERVER\_H}}

\end{DoxyCode}
