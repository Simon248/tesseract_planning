\hypertarget{motion__pipeline__task_8hpp_source}{}\doxysection{motion\+\_\+pipeline\+\_\+task.\+hpp}
\label{motion__pipeline__task_8hpp_source}\index{tesseract\_task\_composer/include/tesseract\_task\_composer/nodes/motion\_pipeline\_task.hpp@{tesseract\_task\_composer/include/tesseract\_task\_composer/nodes/motion\_pipeline\_task.hpp}}
\mbox{\hyperlink{motion__pipeline__task_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#ifndef TESSERACT\_TASK\_COMPOSER\_MOTION\_PIPELINE\_TASK\_HPP}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define TESSERACT\_TASK\_COMPOSER\_MOTION\_PIPELINE\_TASK\_HPP}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include <tesseract\_common/macros.h>}}
\DoxyCodeLine{30 TESSERACT\_COMMON\_IGNORE\_WARNINGS\_PUSH}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include <console\_bridge/console.h>}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include <boost/serialization/access.hpp>}}
\DoxyCodeLine{33 TESSERACT\_COMMON\_IGNORE\_WARNINGS\_POP}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{task__composer__graph_8h}{tesseract\_task\_composer/task\_composer\_graph.h}}>}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{min__length__task_8h}{tesseract\_task\_composer/nodes/min\_length\_task.h}}>}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{done__task_8h}{tesseract\_task\_composer/nodes/done\_task.h}}>}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{error__task_8h}{tesseract\_task\_composer/nodes/error\_task.h}}>}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacetesseract__planning}{tesseract\_planning}}}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42 \textcolor{keyword}{template} <\textcolor{keyword}{typename} MotionPlannerTaskType, \textcolor{keyword}{typename} ContactCheckTaskType, \textcolor{keyword}{typename} TimeParameterizationTaskType>}
\DoxyCodeLine{43 \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}} : \textcolor{keyword}{public} \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph}{TaskComposerGraph}}}
\DoxyCodeLine{44 \{}
\DoxyCodeLine{45 \textcolor{keyword}{public}:}
\DoxyCodeLine{46   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a28322c6162d8b1a8e57cffac17db004d}{MotionPipelineTask}}() = \textcolor{keywordflow}{default};  \textcolor{comment}{// Required for serialization}}
\DoxyCodeLine{52 \textcolor{comment}{}  \textcolor{comment}{// NOLINTNEXTLINE(performance-\/unnecessary-\/value-\/param)}}
\DoxyCodeLine{53   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_aae000614adacaae61f20e81377c0d259}{MotionPipelineTask}}(std::string name) : \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph}{TaskComposerGraph}}(std::move(name)) \{ \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a218acdd21a4e5ab89538ee50a559fabf}{ctor}}(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6bf2a612d10c7cb7023803ea73cdc1af}{uuid\_str\_}}, \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6bf2a612d10c7cb7023803ea73cdc1af}{uuid\_str\_}}); \}}
\DoxyCodeLine{54   \textcolor{comment}{// NOLINTNEXTLINE(performance-\/unnecessary-\/value-\/param)}}
\DoxyCodeLine{55   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a2c7c003ea809d9bea1862f0584100cfc}{MotionPipelineTask}}(std::string input\_key, std::string output\_key, std::string name)}
\DoxyCodeLine{56     : \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph}{TaskComposerGraph}}(std::move(name))}
\DoxyCodeLine{57   \{}
\DoxyCodeLine{58     \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a218acdd21a4e5ab89538ee50a559fabf}{ctor}}(std::move(input\_key), std::move(output\_key));}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_aff0ed649e5917e647eb1d9a1d2e6822c}{\string~MotionPipelineTask}}() \textcolor{keyword}{override} = \textcolor{keywordflow}{default};}
\DoxyCodeLine{61   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a224b7b98c6b828f778fea9ecc2a96d15}{MotionPipelineTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{62   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\& \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a2074d7981f8761e5b4913b6bdcacc6f1}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{63   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a06ab64418b33c13a3d0d01b8084f6d41}{MotionPipelineTask}}(\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{64   \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\& \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a85a8f8d2e4e98fe52b312562e7540665}{operator=}}(\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_ad67f4ccddcc1d7d51c4ab21d20a630c7}{operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\& rhs)\textcolor{keyword}{ const}}
\DoxyCodeLine{67 \textcolor{keyword}{  }\{}
\DoxyCodeLine{68     \textcolor{keywordtype}{bool} equal = \textcolor{keyword}{true};}
\DoxyCodeLine{69     equal \&= \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ac0adef99b48acf5edbeb66e7cdabdd9e}{TaskComposerGraph::operator==}}(rhs);}
\DoxyCodeLine{70     \textcolor{keywordflow}{return} equal;}
\DoxyCodeLine{71   \}}
\DoxyCodeLine{72   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a9a79b6a1ce5ec7742885d298cbf81a62}{operator!=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask}{MotionPipelineTask}}\& rhs)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} !\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_ad67f4ccddcc1d7d51c4ab21d20a630c7}{operator==}}(rhs); \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{keyword}{protected}:}
\DoxyCodeLine{75   \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a74c50fcc25e72cb9703ee14d7e71dcd8}{tesseract\_common::Serialization}};}
\DoxyCodeLine{76   \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_ac98d07dd8f7b70e16ccb9a01abf56b9c}{boost::serialization::access}};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \textcolor{keyword}{template} <\textcolor{keyword}{class} Archive>}
\DoxyCodeLine{79   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a05af157a5cd567d8d9242d5eb00633a6}{serialize}}(Archive\& ar, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \textcolor{comment}{/*version*/})  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{80   \{}
\DoxyCodeLine{81     ar\& BOOST\_SERIALIZATION\_BASE\_OBJECT\_NVP(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph}{TaskComposerGraph}});}
\DoxyCodeLine{82   \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84   \textcolor{keywordtype}{void} \mbox{\hyperlink{classtesseract__planning_1_1MotionPipelineTask_a218acdd21a4e5ab89538ee50a559fabf}{ctor}}(std::string input\_key, std::string output\_key)}
\DoxyCodeLine{85   \{}
\DoxyCodeLine{86     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a245528c5410fbab11660af81688f8d46}{input\_keys\_}}.push\_back(std::move(input\_key));}
\DoxyCodeLine{87     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}.push\_back(std::move(output\_key));}
\DoxyCodeLine{88 }
\DoxyCodeLine{89     boost::uuids::uuid done\_task = \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<DoneTask>());}
\DoxyCodeLine{90     boost::uuids::uuid error\_task = \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<ErrorTask>());}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     \textcolor{comment}{// Setup Min Length Process Generator}}
\DoxyCodeLine{93     \textcolor{comment}{// This is required because trajopt requires a minimum length trajectory.}}
\DoxyCodeLine{94     \textcolor{comment}{// This is used to correct the seed if it is to short.}}
\DoxyCodeLine{95     boost::uuids::uuid min\_length\_task = \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<MinLengthTask>(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a245528c5410fbab11660af81688f8d46}{input\_keys\_}}[0], \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0]));}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     \textcolor{comment}{// Setup TrajOpt}}
\DoxyCodeLine{98     boost::uuids::uuid motion\_planner\_task =}
\DoxyCodeLine{99         \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<MotionPlannerTaskType>(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0], \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0], \textcolor{keyword}{false}));}
\DoxyCodeLine{100 }
\DoxyCodeLine{101     \textcolor{comment}{// Setup post collision check}}
\DoxyCodeLine{102     boost::uuids::uuid contact\_check\_task = \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<ContactCheckTaskType>(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0]));}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{comment}{// Setup time parameterization and smoothing}}
\DoxyCodeLine{105     boost::uuids::uuid time\_parameterization\_task =}
\DoxyCodeLine{106         \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_ad18db6bfc72762da18cdf4ab6218d233}{addNode}}(std::make\_unique<TimeParameterizationTaskType>(\mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0], \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerNode_a6e7e482b144b120f2c91e2d3f8c07001}{output\_keys\_}}[0]));}
\DoxyCodeLine{107 }
\DoxyCodeLine{108     \textcolor{comment}{// Add edges}}
\DoxyCodeLine{109     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_a6614bd23a1af29b8e1f79c85a8fae9dc}{addEdges}}(min\_length\_task, \{ motion\_planner\_task \});}
\DoxyCodeLine{110     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_a6614bd23a1af29b8e1f79c85a8fae9dc}{addEdges}}(motion\_planner\_task, \{ error\_task, contact\_check\_task \});}
\DoxyCodeLine{111     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_a6614bd23a1af29b8e1f79c85a8fae9dc}{addEdges}}(contact\_check\_task, \{ error\_task, time\_parameterization\_task \});}
\DoxyCodeLine{112     \mbox{\hyperlink{classtesseract__planning_1_1TaskComposerGraph_a6614bd23a1af29b8e1f79c85a8fae9dc}{addEdges}}(time\_parameterization\_task, \{ error\_task, done\_task \});}
\DoxyCodeLine{113   \}}
\DoxyCodeLine{114 \};}
\DoxyCodeLine{115 \}  \textcolor{comment}{// namespace tesseract\_planning}}
\DoxyCodeLine{116 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// TESSERACT\_TASK\_COMPOSER\_MOTION\_PIPELINE\_TASK\_HPP}}

\end{DoxyCode}
